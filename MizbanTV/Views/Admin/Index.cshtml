@using Kendo.Mvc.UI
@{
    ViewBag.Title = "داشبورد ادمین";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>
    دسته بندی ها
</h2>

@(Html.Kendo().Grid<MizbanTV.Entities.Category>()
                .Name("Categories")
                .Columns(columns =>
                {
                    columns.Bound(p => p.Name);
                    columns.Command(command => command.Destroy()).Width(150);
                })
                .ToolBar(toolbar =>
                {
                    toolbar.Create();
                    toolbar.Save();
                })
                .Editable(editable => editable.Mode(GridEditMode.InCell))
                .Pageable()
                .Navigatable()
                .Sortable()
                .Scrollable()
                .DataSource(dataSource => dataSource
                    .Ajax()
                    .Batch(true)
                    .PageSize(20)
                    .ServerOperation(false)
                    .Events(events => events.Error("error_handler"))
                    .Model(model =>
                    {
                        model.Id(p => p.ID);
                        model.Field(id => id.ID).DefaultValue(Guid.NewGuid());
                    })
                    .Create("CategoryCreate", "Admin")
                    .Read("CategoryRead", "Admin")
                    .Update("CategoryUpdate", "Admin")
                    .Destroy("CategoryDestroy", "Admin")
                )
)

<p></p>
<p></p>
<h2>
    مطالب
</h2>

<a href="/Admin/CreateVideo" class="btn btn-primary m-3">مطلب جدید</a>

@(Html.Kendo().Grid<MizbanTV.Models.AdminIndexVideoViewModel>()
                .Name("Videos")
                .Columns(columns =>
                {
                    columns.Bound(p => p.Title);
                    //columns.Command(command => command.Custom("Edit").Click("EditVideo")).Width(150);
                    columns.Command(command => command.Destroy()).Width(150);
                })
                .Pageable()
                .Navigatable()
                .Sortable()
                .Scrollable()
                .DataSource(dataSource => dataSource
                    .Ajax()
                    .Batch(true)
                    .PageSize(20)
                    .ServerOperation(false)
                    .Events(events => events.Error("error_handler"))
                    .Model(model =>
                    {
                        model.Id(p => p.ID);
                    })
                    .Read("VideoRead", "Admin")
                    .Destroy("VideoDestroy", "Admin")
                )
)
<script>
    function editVideo(e) {

    }
</script>