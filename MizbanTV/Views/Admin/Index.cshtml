@using Kendo.Mvc.UI
@{
    ViewBag.Title = "داشبورد ادمین";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>
    دسته بندی ها
</h2>

@(Html.Kendo().Grid<MizbanTV.Entities.Category>()
        .Name("Categories")
        .Columns(columns =>
        {
            columns.Bound(p => p.Name);
            columns.Command(command => command.Destroy()).Width(150);
        })
        .ToolBar(toolbar =>
        {
            toolbar.Create();
            toolbar.Save();
        })
        .Editable(editable => editable.Mode(GridEditMode.InCell))
        .Pageable()
        .Navigatable()
        .Sortable()
        .Scrollable()
        .DataSource(dataSource => dataSource
            .Ajax()
            .Batch(true)
            .PageSize(20)
            .ServerOperation(false)
            .Events(events => events.Error("error_handler"))
            .Model(model =>
            {
                model.Id(p => p.ID);
                model.Field(id => id.ID).DefaultValue(Guid.NewGuid());
            })
            .Create("CategoryCreate", "Admin")
            .Read("CategoryRead", "Admin")
            .Update("CategoryUpdate", "Admin")
            .Destroy("CategoryDestroy", "Admin")
        )
)